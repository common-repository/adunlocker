/**
 * AdUnlocker
 * Powerful browser adblock blocker.
 *
 * @encoding        UTF-8
 * @copyright       (C) 2021 PixPal ( https://pixpal.net/ ). All rights reserved.
 * @support         help@pixpal.net
 **/
!function(e){"use strict";e(document).ready((function(){let t=window.ppAdUnlocker;e(".ppc-drawer__header > a.pp-plugin-title").on("click",(function(t){t.preventDefault(),e("html, body").animate({scrollTop:0},500)})),e("#pp-subscribe").on("click",(function(t){t.preventDefault();let s=e("#pp-subscribe-mail"),a=e("#pp-subscribe-name"),n=s.parent().data("ppc-index");if(s.val().length>0&&window.PixPalMaterial[n].valid){const t=document.querySelector(".pp-subscribe-form-message");a.prop("disabled",!0),s.prop("disabled",!0),e("#pp-subscribe").prop("disabled",!0),e.ajax({type:"GET",url:"https://pixpal.net/wp-content/plugins/pp-validators/subscriber/subscribe.php",crossDomain:!0,data:"name="+a.val()+"&mail="+s.val()+"&plugin=AdUnlocker",success:function(e){!0===e?(t.style.display="block",t.classList.add("pp-subscribe-form-message-success"),t.innerHTML=t.dataset.success,setTimeout((function(){t.style.display="none"}),7500)):(t.style.display="block",t.classList.add("pp-subscribe-form-message-error"),t.innerHTML=t.dataset.error,setTimeout((function(){t.style.display="none"}),7500))},error:function(s){t.style.display="block",t.classList.add("pp-subscribe-form-message-error"),t.innerHTML=t.dataset.warn,e("#pp-subscribe-name").prop("disabled",!1),e("#pp-subscribe-mail").prop("disabled",!1),e("#pp-subscribe").prop("disabled",!1),setTimeout((function(){t.style.display="none"}),7500)}})}else window.PixPalMaterial[n].valid=!1}));let s=e("#pp-updates-btn");s.on("click",(function(a){a.preventDefault(),s.attr("disabled",!0).addClass("pp-spin").find(".material-icons").text("refresh");let n={action:"check_updates",nonce:t.nonce,checkUpdates:!0};e.post(t.ajaxURL,n,(function(e){e?(console.info("Latest version information updated."),location.reload()):console.warn(e)}),"json").fail((function(e){console.error(e),alert("Looks like an Error has occurred. Please try again later.")})).always((function(){s.attr("disabled",!1).removeClass("pp-spin").find(".material-icons").text("autorenew")}))})),function(){let t=e("#pp_custom_css_fld");if(!t.length)return;let s,a=wp.codeEditor.defaultSettings?_.clone(wp.codeEditor.defaultSettings):{};a.codemirror=_.extend({},a.codemirror,{indentUnit:2,tabSize:2,mode:"css"}),s=wp.codeEditor.initialize("pp_custom_css_fld",a),s.codemirror.on("change",(function(e){s.codemirror.save(),t.change()}))}();let a=e(".pp-chosen.chosen-select");a.length>0&&a.chosen({width:"100%",search_contains:!0,disable_search_threshold:7,inherit_select_classes:!0,no_results_text:"Oops, nothing found"}),e(".pp-layout .pp-nav-dropdown a").on("click",(function(t){t.preventDefault();let s=t.target,a=t.target.parentElement;"IMG"!==t.target.tagName&&(s=t.target.querySelector("img"),a=t.target);const n=a.getAttribute("data-val"),o=s.alt,i=e(".pp-layout button img");i.attr("src",i.attr("src").replace(/(.*)\/.*(\.svg$)/i,"$1/"+n+"$2")),i.attr("alt",o),e(this).closest("td").find("input").val(n).change(),setTimeout((function(){e(".pp-layout").removeClass("pp-open")}),100),e(".pp-layout .pp-nav-dropdown a").removeClass("pp-active"),e(this).addClass("pp-active")}))}))}(jQuery);